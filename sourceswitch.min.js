!function(t){function e(t,e,n){var r;do{r=(""+Math.random()).substr(1)}while(r.charAt(0)!==".");t.kBind(e+r,function(){n();t.kUnbind(r)})}function n(t){var e=this,n,r;e.kdp=t;e.current=0;n=e.getOption("mediaProxy.entry");e.sources=[n.id];try{r=JSON.parse(n.partnerData);e.sources=e.sources.concat(r.sources||[])}catch(o){}}n.prototype={toggle:function(t){var e=this,n=(e.current+1)%e.sources.length;if(e.current==n){return}e.kdp.sendNotification("changeMedia",{entryId:e.sources[n]});e.kdp.setKDPAttribute("mediaProxy","mediaPlayFrom",t);e.current=n},getOption:function(t){return this.kdp.evaluate("{"+t+"}")},getConfig:function(t){return this.getOption("sourceToggle."+t)}};t.addReadyCallback(function(t){var r=document.getElementById(t);e(r,"mediaReady",function(){var t=new n(r),e="customFunc"+(t.getConfig("button")||1);window[e]=function(){t.toggle(t.getOption("video.player.currentTime"))}})})}(kWidget);