(function(t){function n(t,n,e){var o;do{o=(""+Math.random()).substr(1)}while(o.charAt(0)!==".");t.kBind(n+o,function(){e();t.kUnbind(o)})}function e(t){var n=this,e,o;n.kdp=t;n.current=0;e=n.getOption("mediaProxy.entry");n.sources=[e.id];try{o=JSON.parse(e.partnerData);n.sources=n.sources.concat(o.sources||[])}catch(i){}}e.prototype={toggle:function(t){var e=this,o=(e.current+1)%e.sources.length;if(e.current==o){return}n(e.kdp,"mediaReady",function(){e.kdp.sendNotification("doPlay")});n(e.kdp,"playerPlayed",function(){e.kdp.sendNotification("doSeek",t)});e.kdp.sendNotification("changeMedia",{entryId:e.sources[o]});e.current=o},getOption:function(t){return this.kdp.evaluate("{"+t+"}")},getConfig:function(t){return this.getOption("sourceToggle."+t)}};t.addReadyCallback(function(t){var o=document.getElementById(t);n(o,"mediaReady",function(){var t=new e(o),n="customFunc"+(t.getConfig("button")||1);window[n]=function(){t.toggle(t.getOption("video.player.currentTime"))}})})})(kWidget);